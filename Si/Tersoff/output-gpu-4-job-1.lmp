LAMMPS (21 Nov 2023)

# Define variables
variable	temperature equal 300.0 # Target temperature in K
variable	tempDamp equal 0.1 # Relaxation time for thermostat in ps
variable        pressure equal 1. # Target pressure in bar
variable        pressureDamp equal 1.0 # Relaxation time for barostat in ps
variable	out_freq equal 100 # Output frequency in steps
variable        seed equal 745823 # Random seed for generating velocities

units		metal
atom_style	atomic

# Initial configuration
# Cubic diamond lattice
lattice 	diamond 5.49
Lattice spacing in x,y,z = 5.49 5.49 5.49
region          myreg block 0 2 0 2 0 2
create_box      1 myreg
Created orthogonal box = (0 0 0) to (10.98 10.98 10.98)
  1 by 1 by 1 MPI processor grid
create_atoms    1 region myreg
Created 64 atoms
  using lattice units in orthogonal box = (0 0 0) to (10.98 10.98 10.98)
  create_atoms CPU = 0.000 seconds
variable 	mass equal 28.0855
mass            1 ${mass}
mass            1 28.0855

# Other setup
timestep	0.001
neigh_modify    delay 10 every 1
pair_style      tersoff
pair_coeff      * * /hpcgpfs01/work/csi/hvandam/DeePMD/GPU/lammps/potentials/Si.tersoff Si
Reading tersoff potential file /hpcgpfs01/work/csi/hvandam/DeePMD/GPU/lammps/potentials/Si.tersoff with DATE: 2007-10-25
thermo          ${out_freq}
thermo          100
thermo_style 	custom step temp pe etotal epair emol press lx ly lz vol
restart 	${out_freq} restart.lmp restart2.lmp
restart 	100 restart.lmp restart2.lmp

# Equilibrate in NPT

fix             1 all nph iso ${pressure} ${pressure} ${pressureDamp}
fix             1 all nph iso 1 ${pressure} ${pressureDamp}
fix             1 all nph iso 1 1 ${pressureDamp}
fix             1 all nph iso 1 1 1
fix             2 all temp/csvr ${temperature} ${temperature} ${tempDamp} ${seed}
fix             2 all temp/csvr 300 ${temperature} ${tempDamp} ${seed}
fix             2 all temp/csvr 300 300 ${tempDamp} ${seed}
fix             2 all temp/csvr 300 300 0.1 ${seed}
fix             2 all temp/csvr 300 300 0.1 745823
fix             3 all momentum 100 linear 1 1 1 rescale

velocity 	all create ${temperature} ${seed} dist gaussian
velocity 	all create 300 ${seed} dist gaussian
velocity 	all create 300 745823 dist gaussian

run             1000 upto # 1 ps
Neighbor list info ...
  update: every = 1 steps, delay = 10 steps, check = yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 5.2
  ghost atom cutoff = 5.2
  binsize = 2.6, bins = 5 5 5
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair tersoff, perpetual
      attributes: full, newton on
      pair build: full/bin/atomonly
      stencil: full/bin/3d
      bin: standard
Setting up Verlet run ...
  Unit style    : metal
  Current step  : 0
  Time step     : 0.001
Per MPI rank memory allocation (min/avg/max) = 3.063 | 3.063 | 3.063 Mbytes
   Step          Temp          PotEng         TotEng         E_pair         E_mol          Press            Lx             Ly             Lz           Volume    
         0   300           -295.94987     -293.50685     -295.94987      0             -27342.018      10.98          10.98          10.98          1323.7532    
       100   186.08861     -294.23026     -292.71487     -294.23026      0              25417.911      10.736457      10.736457      10.736457      1237.6077    
       200   244.66879     -294.14333     -292.1509      -294.14333      0             -17278.511      10.909885      10.909885      10.909885      1298.5555    
       300   281.91003     -293.95794     -291.66224     -293.95794      0              3233.6352      10.842155      10.842155      10.842155      1274.5204    
       400   317.64174     -294.09155     -291.50487     -294.09155      0              8930.1539      10.810223      10.810223      10.810223      1263.2925    
       500   255.85643     -292.80432     -290.72078     -292.80432      0             -10487.804      10.861152      10.861152      10.861152      1281.2317    
       600   397.24987     -294.11177     -290.87681     -294.11177      0             -4763.0704      10.886808      10.886808      10.886808      1290.3326    
       700   305.28832     -293.38066     -290.89458     -293.38066      0              20881.982      10.756984      10.756984      10.756984      1244.7197    
       800   296.53742     -293.86224     -291.44742     -293.86224      0             -21607.568      10.954802      10.954802      10.954802      1314.6603    
       900   283.89341     -293.72853     -291.41667     -293.72853      0              14963.148      10.790485      10.790485      10.790485      1256.3855    
      1000   326.57677     -293.90133     -291.24189     -293.90133      0             -7031.9516      10.866753      10.866753      10.866753      1283.2147    
Loop time of 0.140723 on 1 procs for 1000 steps with 64 atoms

Performance: 613.971 ns/day, 0.039 hours/ns, 7106.141 timesteps/s, 454.793 katom-step/s
91.4% CPU use with 1 MPI tasks x no OpenMP threads

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.12153    | 0.12153    | 0.12153    |   0.0 | 86.36
Neigh   | 0.00082194 | 0.00082194 | 0.00082194 |   0.0 |  0.58
Comm    | 0.0011639  | 0.0011639  | 0.0011639  |   0.0 |  0.83
Output  | 0.014243   | 0.014243   | 0.014243   |   0.0 | 10.12
Modify  | 0.0025982  | 0.0025982  | 0.0025982  |   0.0 |  1.85
Other   |            | 0.0003707  |            |       |  0.26

Nlocal:             64 ave          64 max          64 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:            367 ave         367 max         367 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:              0 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:         1792 ave        1792 max        1792 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 1792
Ave neighs/atom = 28
Neighbor list builds = 10
Dangerous builds = 0

unfix		1
unfix		2
unfix		3

reset_timestep	0

# Production run in NPT

dump            myDump all atom ${out_freq} si.lammps-dump-text
dump            myDump all atom 100 si.lammps-dump-text

timer           timeout 00:55:00 every 1000
New timer settings: style=normal  mode=nosync  timeout=00:55:00

fix             thermo_print all print ${out_freq} "$(step) $(temp) $(press) $(enthalpy) $(vol)" file thermo.txt screen no title "#step temp press enthalpy vol"
fix             thermo_print all print 100 "$(step) $(temp) $(press) $(enthalpy) $(vol)" file thermo.txt screen no title "#step temp press enthalpy vol"
fix             1 all nph iso ${pressure} ${pressure} ${pressureDamp}
fix             1 all nph iso 1 ${pressure} ${pressureDamp}
fix             1 all nph iso 1 1 ${pressureDamp}
fix             1 all nph iso 1 1 1
fix             2 all temp/csvr ${temperature} ${temperature} ${tempDamp} ${seed}
fix             2 all temp/csvr 300 ${temperature} ${tempDamp} ${seed}
fix             2 all temp/csvr 300 300 ${tempDamp} ${seed}
fix             2 all temp/csvr 300 300 0.1 ${seed}
fix             2 all temp/csvr 300 300 0.1 745823
fix             3 all momentum 10000 linear 1 1 1 rescale

run             10000 upto # 10 ps
Setting up Verlet run ...
  Unit style    : metal
  Current step  : 0
  Time step     : 0.001
  Walltime left : 0:54:59.99
Per MPI rank memory allocation (min/avg/max) = 3.063 | 3.063 | 3.063 Mbytes
   Step          Temp          PotEng         TotEng         E_pair         E_mol          Press            Lx             Ly             Lz           Volume    
         0   326.57677     -293.90133     -291.24189     -293.90133      0             -7031.9516      10.866753      10.866753      10.866753      1283.2147    
       100   312.08931     -294.00057     -291.45911     -294.00057      0              7972.0076      10.83609       10.83609       10.83609       1272.3828    
       200   270.43232     -293.79803     -291.5958      -293.79803      0             -7387.9112      10.874702      10.874702      10.874702      1286.0329    
       300   298.999       -293.432       -290.99713     -293.432        0              2598.4163      10.831717      10.831717      10.831717      1270.8432    
       400   354.38222     -294.13147     -291.24559     -294.13147      0             -1184.3372      10.880907      10.880907      10.880907      1288.2356    
       500   285.30257     -292.92942     -290.60609     -292.92942      0              3715.71        10.820672      10.820672      10.820672      1266.9594    
       600   311.73559     -293.00265     -290.46407     -293.00265      0             -6519.9169      10.881823      10.881823      10.881823      1288.561     
       700   340.33152     -293.76551     -290.99406     -293.76551      0              3108.0877      10.840619      10.840619      10.840619      1273.9788    
       800   283.10224     -293.78538     -291.47997     -293.78538      0             -63.997069      10.85688       10.85688       10.85688       1279.7204    
       900   324.70443     -293.87641     -291.23221     -293.87641      0              4154.6247      10.839042      10.839042      10.839042      1273.423     
      1000   306.68811     -293.8646      -291.36712     -293.8646       0             -12835.792      10.900972      10.900972      10.900972      1295.3756    
      1100   298.48352     -293.61016     -291.17949     -293.61016      0              14825.306      10.795629      10.795629      10.795629      1258.1831    
      1200   322.60537     -293.63644     -291.00934     -293.63644      0             -9316.0775      10.908177      10.908177      10.908177      1297.9458    
      1300   268.35993     -293.34541     -291.16005     -293.34541      0              2924.956       10.830522      10.830522      10.830522      1270.4224    
      1400   297.55547     -293.76668     -291.34357     -293.76668      0             -1900.1511      10.858489      10.858489      10.858489      1280.2893    
      1500   309.58366     -294.12015     -291.59909     -294.12015      0              2571.4888      10.862972      10.862972      10.862972      1281.8759    
      1600   296.46912     -293.60808     -291.19382     -293.60808      0             -2397.335       10.842495      10.842495      10.842495      1274.6403    
      1700   298.82452     -293.66216     -291.22872     -293.66216      0             -2898.1231      10.862259      10.862259      10.862259      1281.6237    
      1800   333.35224     -293.85508     -291.14046     -293.85508      0              1860.9         10.859213      10.859213      10.859213      1280.5456    
      1900   329.0874      -293.41604     -290.73615     -293.41604      0              2656.5713      10.82699       10.82699       10.82699       1269.1801    
      2000   297.09782     -293.43664     -291.01726     -293.43664      0             -3163.5199      10.865154      10.865154      10.865154      1282.6484    
      2100   315.82104     -293.54713     -290.97528     -293.54713      0              136.10075      10.864745      10.864745      10.864745      1282.5038    
      2200   280.55085     -293.83742     -291.55279     -293.83742      0              4931.3988      10.818106      10.818106      10.818106      1266.0581    
      2300   298.56211     -294.33412     -291.90282     -294.33412      0             -6127.2238      10.880864      10.880864      10.880864      1288.2205    
      2400   242.66242     -293.88852     -291.91242     -293.88852      0              150.40568      10.846223      10.846223      10.846223      1275.9557    
      2500   327.54827     -294.22028     -291.55293     -294.22028      0             -328.59128      10.847749      10.847749      10.847749      1276.4943    
      2600   348.19156     -294.10091     -291.26545     -294.10091      0              3805.0358      10.84821       10.84821       10.84821       1276.6571    
      2700   277.33322     -293.88441     -291.62597     -293.88441      0             -7842.8246      10.871439      10.871439      10.871439      1284.8757    
      2800   283.14178     -294.08309     -291.77736     -294.08309      0              8062.733       10.821402      10.821402      10.821402      1267.2158    
      2900   387.68111     -294.15532     -290.99829     -294.15532      0             -6455.3601      10.88961       10.88961       10.88961       1291.3294    
      3000   290.11072     -293.53068     -291.1682      -293.53068      0              5521.8054      10.809898      10.809898      10.809898      1263.1786    
      3100   398.05396     -293.80491     -290.5634      -293.80491      0             -6360.0443      10.882941      10.882941      10.882941      1288.9581    
      3200   392.28088     -293.79012     -290.59562     -293.79012      0              5829.2875      10.839447      10.839447      10.839447      1273.5657    
      3300   304.58041     -293.69735     -291.21703     -293.69735      0              372.6322       10.837682      10.837682      10.837682      1272.9437    
      3400   288.8138      -294.37837     -292.02644     -294.37837      0             -5461.5126      10.878543      10.878543      10.878543      1287.3961    
      3500   272.74515     -294.11893     -291.89786     -294.11893      0              3178.5072      10.841692      10.841692      10.841692      1274.3572    
      3600   279.50695     -293.69444     -291.41831     -293.69444      0             -1618.4395      10.851249      10.851249      10.851249      1277.7301    
      3700   336.89627     -294.19044     -291.44696     -294.19044      0              909.22089      10.860126      10.860126      10.860126      1280.8686    
      3800   259.53209     -293.5654      -291.45193     -293.5654       0             -1170.2154      10.846457      10.846457      10.846457      1276.0382    
      3900   248.20382     -293.46903     -291.44781     -293.46903      0              1273.3688      10.846765      10.846765      10.846765      1276.1469    
      4000   271.82445     -293.9658      -291.75223     -293.9658       0             -640.02385      10.866435      10.866435      10.866435      1283.1021    
      4100   218.01035     -293.49872     -291.72338     -293.49872      0              536.8347       10.845834      10.845834      10.845834      1275.8185    
      4200   249.4425      -293.7877      -291.75639     -293.7877       0              2541.9248      10.848557      10.848557      10.848557      1276.7797    
      4300   324.36163     -294.14633     -291.50492     -294.14633      0             -3441.8134      10.87691       10.87691       10.87691       1286.8166    
      4400   277.33788     -293.72088     -291.46241     -293.72088      0              7306.747       10.816691      10.816691      10.816691      1265.5614    
      4500   281.53808     -293.59786     -291.30518     -293.59786      0             -5564.8919      10.881741      10.881741      10.881741      1288.5318    
      4600   276.46498     -294.21132     -291.95996     -294.21132      0              2633.7112      10.846262      10.846262      10.846262      1275.9694    
      4700   300.84396     -293.9231      -291.47321     -293.9231       0              279.09337      10.850358      10.850358      10.850358      1277.4155    
      4800   276.61201     -293.53937     -291.28681     -293.53937      0             -2107.1371      10.863085      10.863085      10.863085      1281.9159    
      4900   312.90772     -293.68931     -291.14118     -293.68931      0             -1622.454       10.862186      10.862186      10.862186      1281.5977    
      5000   297.85332     -293.63828     -291.21274     -293.63828      0              5381.289       10.829133      10.829133      10.829133      1269.9339    
      5100   311.955       -294.23509     -291.69472     -294.23509      0             -6620.6434      10.89014       10.89014       10.89014       1291.5177    
      5200   305.38131     -293.85452     -291.36768     -293.85452      0              5753.8307      10.831075      10.831075      10.831075      1270.6172    
      5300   323.38231     -294.11129     -291.47787     -294.11129      0             -3272.3795      10.861435      10.861435      10.861435      1281.3319    
      5400   345.48499     -293.82636     -291.01294     -293.82636      0             -2148.3943      10.866552      10.866552      10.866552      1283.1438    
      5500   286.9592      -294.06403     -291.72721     -294.06403      0              2699.5172      10.845283      10.845283      10.845283      1275.624     
      5600   275.84882     -294.15891     -291.91257     -294.15891      0             -443.41346      10.85079       10.85079       10.85079       1277.5681    
      5700   303.36831     -294.35092     -291.88047     -294.35092      0             -5220.9375      10.879338      10.879338      10.879338      1287.6783    
      5800   306.59353     -293.98313     -291.48642     -293.98313      0              5045.7512      10.830268      10.830268      10.830268      1270.333     
      5900   301.2011      -294.19779     -291.74499     -294.19779      0             -2115.2926      10.868766      10.868766      10.868766      1283.9283    
      6000   351.11951     -294.04535     -291.18605     -294.04535      0             -3010.4257      10.863431      10.863431      10.863431      1282.0382    
      6100   298.96397     -293.45261     -291.01803     -293.45261      0              4493.8339      10.825528      10.825528      10.825528      1268.6658    
      6200   366.17537     -294.01187     -291.02996     -294.01187      0             -4046.9573      10.88245       10.88245       10.88245       1288.7838    
      6300   247.08228     -293.66798     -291.65589     -293.66798      0              7308.7131      10.828905      10.828905      10.828905      1269.8537    
      6400   259.32263     -293.77389     -291.66213     -293.77389      0             -8728.5443      10.884913      10.884913      10.884913      1289.659     
      6500   268.11267     -293.916       -291.73265     -293.916        0              12119.78       10.823817      10.823817      10.823817      1268.0645    
      6600   279.27653     -293.64129     -291.36704     -293.64129      0             -10101.228      10.896978      10.896978      10.896978      1293.9522    
      6700   296.18592     -293.76139     -291.34943     -293.76139      0              10165.973      10.811363      10.811363      10.811363      1263.6925    
      6800   335.60026     -293.81096     -291.07803     -293.81096      0             -5930.7513      10.890569      10.890569      10.890569      1291.6703    
      6900   274.87762     -293.22736     -290.98893     -293.22736      0              3571.1269      10.834276      10.834276      10.834276      1271.7441    
      7000   315.31018     -293.7086      -291.14091     -293.7086       0             -549.17321      10.862689      10.862689      10.862689      1281.7756    
      7100   327.57029     -293.52225     -290.85472     -293.52225      0             -643.68002      10.864519      10.864519      10.864519      1282.4235    
      7200   347.06807     -293.16967     -290.34336     -293.16967      0              2829.9745      10.840235      10.840235      10.840235      1273.8436    
      7300   318.86843     -293.71105     -291.11438     -293.71105      0             -1950.029       10.864342      10.864342      10.864342      1282.3611    
      7400   291.1202      -294.10852     -291.73782     -294.10852      0              1636.8438      10.857061      10.857061      10.857061      1279.7845    
      7500   286.62522     -293.4502      -291.1161      -293.4502       0             -1363.6313      10.848457      10.848457      10.848457      1276.7442    
      7600   306.56784     -293.82578     -291.32927     -293.82578      0             -3189.3169      10.870842      10.870842      10.870842      1284.6641    
      7700   297.2238      -293.87601     -291.4556      -293.87601      0              6998.3017      10.836577      10.836577      10.836577      1272.5546    
      7800   277.75103     -293.91451     -291.65267     -293.91451      0             -3871.5156      10.865269      10.865269      10.865269      1282.6892    
      7900   302.59504     -293.63348     -291.16933     -293.63348      0             -788.42129      10.855841      10.855841      10.855841      1279.3531    
      8000   303.71075     -293.7074      -291.23416     -293.7074       0              561.07558      10.852769      10.852769      10.852769      1278.2673    
      8100   268.92763     -293.43002     -291.24004     -293.43002      0              2261.4951      10.845824      10.845824      10.845824      1275.8147    
      8200   321.45732     -294.21491     -291.59716     -294.21491      0             -1755.9223      10.86817       10.86817       10.86817       1283.717     
      8300   256.35589     -293.46145     -291.37384     -293.46145      0             -529.26622      10.842862      10.842862      10.842862      1274.7699    
      8400   307.58275     -294.01857     -291.5138      -294.01857      0             -114.30726      10.865969      10.865969      10.865969      1282.9371    
      8500   337.48623     -294.00525     -291.25697     -294.00525      0              4905.7492      10.83499       10.83499       10.83499       1271.9955    
      8600   315.7335      -293.78866     -291.21752     -293.78866      0             -8042.6927      10.879949      10.879949      10.879949      1287.8952    
      8700   366.85504     -293.95159     -290.96415     -293.95159      0              9053.0091      10.81959       10.81959       10.81959       1266.5792    
      8800   329.6697      -293.84724     -291.16261     -293.84724      0             -10884.552      10.898325      10.898325      10.898325      1294.432     
      8900   268.57504     -293.58594     -291.39883     -293.58594      0              15073.396      10.799505      10.799505      10.799505      1259.5388    
      9000   330.11705     -293.82402     -291.13575     -293.82402      0             -12704.255      10.912411      10.912411      10.912411      1299.4578    
      9100   287.45458     -293.26585     -290.92499     -293.26585      0              8441.4244      10.813882      10.813882      10.813882      1264.5757    
      9200   355.4689      -293.59271     -290.69799     -293.59271      0             -1567.635       10.865326      10.865326      10.865326      1282.7094    
      9300   335.98702     -293.76194     -291.02587     -293.76194      0             -2247.821       10.865876      10.865876      10.865876      1282.9043    
      9400   285.15806     -293.70236     -291.3802      -293.70236      0              4966.1446      10.828329      10.828329      10.828329      1269.6509    
      9500   341.87253     -293.99798     -291.21398     -293.99798      0             -5863.6963      10.875335      10.875335      10.875335      1286.2574    
      9600   279.79974     -293.91677     -291.63825     -293.91677      0              4207.1433      10.842821      10.842821      10.842821      1274.7554    
      9700   254.01018     -294.00062     -291.93212     -294.00062      0             -474.10224      10.857952      10.857952      10.857952      1280.0997    
      9800   284.75681     -294.0186      -291.69972     -294.0186       0              2227.5658      10.850665      10.850665      10.850665      1277.524     
      9900   262.97634     -293.82262     -291.6811      -293.82262      0             -2775.4109      10.860818      10.860818      10.860818      1281.1136    
     10000   287.72788     -293.57909     -291.23601     -293.57909      0              5652.9572      10.826338      10.826338      10.826338      1268.9506    
Loop time of 1.30946 on 1 procs for 10000 steps with 64 atoms

Performance: 659.814 ns/day, 0.036 hours/ns, 7636.741 timesteps/s, 488.751 katom-step/s
96.9% CPU use with 1 MPI tasks x no OpenMP threads

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 1.2086     | 1.2086     | 1.2086     |   0.0 | 92.29
Neigh   | 0.0082088  | 0.0082088  | 0.0082088  |   0.0 |  0.63
Comm    | 0.011931   | 0.011931   | 0.011931   |   0.0 |  0.91
Output  | 0.048863   | 0.048863   | 0.048863   |   0.0 |  3.73
Modify  | 0.02827    | 0.02827    | 0.02827    |   0.0 |  2.16
Other   |            | 0.003625   |            |       |  0.28

Nlocal:             64 ave          64 max          64 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:            369 ave         369 max         369 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:              0 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:         1808 ave        1808 max        1808 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 1808
Ave neighs/atom = 28.25
Neighbor list builds = 100
Dangerous builds = 0

write_data	data.final
System init for write_data ...

write_restart   restart.lmp
System init for write_restart ...
Total wall time: 0:00:01
